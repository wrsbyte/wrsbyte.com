---
import PostTable from "@/components/sections/PostTable.astro";
import Footer from "@/components/shared/Footer.astro";
import Header from "@/components/shared/Header.astro";
import RootLayout from "@/layouts/RootLayout.astro";

import { getLangFromUrl, getLanguages, useTranslations } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

export async function getStaticPaths() {
  const languages = getLanguages();
  return languages.map((lang) => ({ params: { lang } }));
}

const title = "Welcome to Astro.";
const description = "Wilmer";
---

<RootLayout title={title} description={description}>
  <Header />
  <main class="flex-1">
    <PostTable />
  </main>
  <Footer />
</RootLayout>
